# 网络概述


## 概述
* 只有一台孤立的计算机构成的“孤岛”没有太大意义，于是就把这些孤立的系统组在一起形成网络。
* 通过路由器把分散在世界各地的小网络连接起来，构建成一个大网络（internet，因特网）。
* 互联网是网络的网络，构造互联网的共同基石是路由器，它们在IP层把网络连在一起。
* 主机都处于网络的边缘，网络的核心是路由器。
* 每个接口必须有一个唯一的Internet地址（IP地址）。
* IP地址不容易记，域名系统为主机名和IP地址之间提供动态的映射（DNS）。
* 网络通信遵循一定的规则（网络协议）。


## 网络分层
### OSI七层模型
* 应用层
* 表示层
* 会话层
* 传输层
  * 定义数据传输的格式和控制
  * 数据叫做段
* 网路层
  * 为不同网络的两个主机提供连接和路径选择
  * 数据叫做报文
* 链路层
  * 格式化数据
  * 控制对物理介质的访问
  * 数据叫做帧（frame）
* 物理层
  * 物理设备标准
  * 数据叫做比特（bit）


### TCP/IP四层模型
* 应用层
* 传输层
  * 负责端到端（etoe，end-to-end，这里的端指源主机和目的主机）
* 网络层
  * 负责点到点（ptop, point-to-point，点指主机或路由器）
* 网络接口层（链路层/数据链路层）

## 协议
### 什么是协议
* 协议：是数据传输和数据解释的规则。
* 原始协议->标准协议。
* TCP协议注重数据传输，HTTP协议注重数据解释。


### 协议分类
* 应用层：HTTP、FTP
  * HTTP：超文本传输协议（Hyper Text Transfer Protocol）是互联网上应用最为广泛的一种网络协议。
  * FTP：文件传输协议（File Transfer Protocol）。
* 传输层： TCP、UDP
  * TCP：传输控制协议（Transmission Control Protocol）是一种面向连接的、可靠的、基于字节流的传输层通信协议。
  * UDP：用户数据报协议（User Datagram Protocol）是一种无连接的协议，提供面向事务的简单不可靠信息传送服务。
* 网络层：IP、ICMP、IGMP
  * IP：因特网互联协议（Internet Protocol）
  * ICMP：Internet控制报文协议（Internet Control Message Protocol）它是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息。
  * IGMP： Internet 组管理协议（Internet Group Management Protocol），是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间。
* 链路层：ARP、RARP
  * ARP：正向地址解析协议（Address Resolution Protocol），通过已知的IP，寻找对应主机的MAC地址。
  * RARP：反向地址转换协议，通过MAC地址确定IP地址。


## 网络术语
* LAN(Local Area Network)：局域网
  * 小范围(一座大楼或一个学校等)区域的计算网络。
  * 通信延迟时间短，可靠性高。
* WAN(Wide Area Network)：广域网
  * 实现不同地区的局域网或城域网互连。
  * 提供更广范围(不同地区、城市、国家)的计算机通信的远程计算机网络。
  * 互联网是世界范围内最大的广域网。
* DNS(Domain Name System)：域名系统
  * 互联网的核心服务之一
  * 域名和IP地址相互映射的分布式数据库
* Port：端口
  * 一般指TCP/IP协议中的端口，范围从0~65535。
  * 端口号小于256的为常用端口号，如：FTP服务的21端口，www服务的80端口。
  * 客户端保证端口号在本机唯一就行，因存在时间短又称临时端口号。
  * 大多数TCP/IP实现给临时端口号分配1024~5000。
* MTU(Max Transmission Unit)：最大传输单元
  * 指一种通信协议的某一层上面所能通过的最大数据包大小（以字节为单位）。
  * 通常与通信接口有关。
  * 常见协议的MTU：
    * FDDI协议：4352字节
    * 以太网（Ethernet协议）：1500字节
    * PPPoE（ADSL）协议：1492字节
    * X.25协议（Dial Up/Modem）：576字节
    * Point-to-Point：4470字节
* MSS（Max Segment Size)：最大报文段长度
  * 在TCP连接建立时，收发双方协商通信时每一个报文段所能承载的最大数据长度
* 半双工/全双工
  * Half-duplex（半双工）：在通道中可以同时进行双向数据传输。
  * Full-duplex（全双工）：在通道中仅可以进行单向地数据传输。
* 传输数据
  * 报文(message): 
    * 网络中交换与传输的数据单元，也是网络传输的单元。
    * 包含了将要发送的完整的数据信息，其长短不需一致。
    * 在传输过程中会不断地封装成分组、包、帧来传输。
    * 封装的方式就是添加一些控制信息组成的首部（报文头）。
* 分层传输数据
  * 应用层——消息(message)
  * 传输层——数据段(segment)
  * 网络层——分组、数据包（packet）
  * 链路层——帧（frame）
  * 物理层——P-PDU、比特（bit）

